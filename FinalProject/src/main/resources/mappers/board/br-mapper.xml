<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.cereal.books.board.model.dao.ReviewDao">
	<sql id="brListSql">
		SELECT BR.BR_NO,
		       M.USER_NO,
		       M.USER_NNAME,
		       BR.BR_ISBN,
		       BR.BR_PRESENT_PIC,
		       BR.BR_TITLE,
		       BR.BR_CREATE_DATE,
		       BR.BR_MODIFY_DATE
		       BR.BR_BOOKTYPE,
		       BR.BR_CONTENT,
		       BR.BR_VIEWCOUNT,
		       BR.BR_LIKE,
		       BR.STATUS,
		       BR.BR_RATING
		FROM BOOK_REVIEW_BOARD BR
		JOIN MEMBER M ON(BR.USER_NO = M.USER_NO)		
		WHERE BR.STATUS='Y'
	</sql>

	<resultMap type="Board" id="brResultMap"> <!-- type vo자바클래스 변수 이름,, resultMap 쓰는 이유는 컬럼과 vo이름이 다를때 -->
		<id property="brNo" column="BR_NO"/>
		<result property="userNo" column="USER_NO"/>
		<result property="userNname" column="USER_NNAME"/>
		<result property="brIsbn" column="BR_ISBN"/>
		<result property="brPresentPic" column="BR_PRESENT_PIC"/>
		<result property="brTitle" column="BR_TITLE"/>
		<result property="brCreateDate" column="BR_CREATE_DATE"/>
		<result property="brModifyDate" column="BR_MODIFY_DATE"/>
		<result property="brBookType" column="BR_BOOKTYPE"/>
		<result property="brContent" column="BR_CONTENT"/>
		<result property="brViewCount" column="BR_VIEWCOUNT"/>
		<result property="brLike" column="BR_LIKE"/>
		<result property="status" column="STATUS"/>
		<result property="brRating" column="BR_RATING"/>
	</resultMap>
	
	<!-- 작성중 
	<insert id="insertReviewBoard" parameterType="map"
		useGeneratedKeys="true" keyProperty="boardNo" keyColumn="BOARD_NO">
  		
  		INSERT INTO BOARD 
  		VALUES(
  			SEQ_BOARD_NO.NEXTVAL,
  			#{boardWriteNo},
  			#{boardTitle},
  			#{boardContent},
  			#{boardOriginalFileName},
  			#{boardRenamedFileName},
  			DEFAULT,
  			DEFAULT,
  			DEFAULT,
  			DEFAULT,
  			DEFAULT
 		)
	
	</insert>
	-->
</mapper>